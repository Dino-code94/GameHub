{% extends 'base.html' %}
{% block content %}

<!-- Outer wrapper centers page content nicely -->
<div class="game-detail-wrapper">

    <!-- main row: left image + right text -->
    <div class="detail-wrapper">

        <!-- Game cover image -->
        <div class="detail-image">
            <img src="{{ game.cover.url }}" alt="{{ game.title }}">
        </div>

        <!-- Game title + description -->
        <div class="detail-info">
            <h1>{{ game.title }}</h1>
            <p class="desc">{{ game.description }}</p>
        </div>

    </div>

    <hr style="border-color:#444;">

    <!-- comment section title -->
    <h2>Comments</h2>

    <!-- loop through comments -->
    <div class="comment-section">
        {% for c in comments %}
        <div class="comment-box">
            <strong>{{ c.user.username }}:</strong> {{ c.text }}
        </div>
        {% empty %}
        <p>No comments yet.</p>
        {% endfor %}
    </div>

    <!-- comment form if logged in -->
    {% if user.is_authenticated %}
    <form method="POST">
        {% csrf_token %}
        <textarea name="text" rows="3" placeholder="Write a comment..." class="comment-textarea"></textarea>
        <br>
        <button type="submit" class="comment-btn">Add comment</button>
    </form>
    {% else %}
    <p>You must login to comment.</p>
    {% endif %}

</div><!-- wrapper end -->

{% endblock %}
